!function(){"use strict";class e extends HTMLElement{constructor(){super(),this.initial=!1,this.dom={project:null,current:null,next:null},this.length=0,this.current=0,this.next=0,this.isAuto=!0,this.working=!1,this.dom.project=this.querySelectorAll("xb-section-background-slider-item"),this.length=this.dom.project.length,this.image={1:"https://cdn.shopify.com/s/files/1/0677/7900/2622/files/nature-sprite.png?v=1724140173",2:"https://cdn.xotiny.com/builder/bg/nature-sprite-2.png",3:"https://cdn.xotiny.com/builder/bg/building-sprite.png",4:"https://cdn.xotiny.com/builder/bg/building-sprite-2.png",5:"https://cdn.xotiny.com/builder/bg/urban-sprite.png",6:"https://cdn.xotiny.com/builder/bg/urban-sprite-2.png"}}static get observedAttributes(){return["xb-observed"]}getImage(e){return new Promise(((t,i)=>{const n=new Image;n.onload=()=>t(n.height),n.onerror=i,n.src=e}))}async init(){const e=this.getAttribute("xb-type")??1;if(this.dom.project=this.querySelectorAll("xb-section-background-slider-item"),this.length=this.dom.project.length,this.length>1&&(this.dom.project.forEach((e=>{e.style.zIndex=10})),this.dom.current=this.dom.project[this.current],this.dom.next=this.dom.project[this.current+1],this.dom.current&&(this.dom.current.style.zIndex=30),this.dom.next&&(this.dom.next.style.zIndex=20)),this.image[e]&&await this.getImage(this.image[e]),this.length>1){const e=Number(this.getAttribute("xb-duration")??1400)+Number(this.getAttribute("xb-delay")??2e3);this.auto=setInterval(this.updateNext.bind(this),e)}}clear(){this.auto&&clearInterval(this.auto)}updateNext(){this.next=(this.current+1)%this.length,this.handleProcess()}updatePrevious(){this.next--,this.next<0&&(this.next=this.length-1),this.handleProcess()}handleProcess(){var e=this;this.working=!0,this.dom.next=this.dom.project[this.next],this.dom.current.style.zIndex=30,e.dom.next.style.zIndex=20,this.dom.current.classList.add("xb-section-background-slider-animated");const t=Number(this.getAttribute("xb-duration")??1400);setTimeout((function(){e.dom.current.style.zIndex=10,e.dom.next.style.zIndex=30,e.dom.current.classList.remove("xb-section-background-slider-animated"),e.dom.current=e.dom.next,e.current=e.next,e.working=!1}),t)}connectedCallback(){this.init(),this.initial=!0}disconnectedCallback(){this.clear()}attributeChangedCallback(e,t,i){t!==i&&"xb-observed"===e&&this.initial&&(this.clear(),this.init())}}if(window.customElements.get("xb-section-background-slider")||window.customElements.define("xb-section-background-slider",e),!window.xbEditor?.designMode){let e=function(e){const t=e.currentTarget,i=t.closest(".xb-html-video").querySelector(".xb-video-icon");t.controls?t.paused?i.style.display="none":i.style.display="flex":t.paused?(t.play(),i.style.display="none"):(t.pause(),i.style.display="flex")};document.querySelectorAll("video.xb-html-video__item").forEach((t=>{t.addEventListener("play",(()=>{t.closest(".xb-html-video").querySelector(".xb-video-icon").style.display="none"})),t.addEventListener("pause",(()=>{t.closest(".xb-html-video").querySelector(".xb-video-icon").style.display="flex"})),t.addEventListener("click",e)}))}window.xbEditor?.designMode||window.cartSubscribe((e=>{if(!e.isAdded)return;const t=window?.routes?.cart_url??`${window?.routes?.root??"/"}cart`,i=!!document.querySelector("#xo-builder-preview-liquid");if("Dawn"===window.Shopify?.theme?.name||"Dawn"===window.Shopify?.theme?.schema_name||"Origin"===window.Shopify?.theme?.name||"Origin"===window.Shopify?.theme?.schema_name||"Spotlight"===window.Shopify?.theme?.name||"Spotlight"===window.Shopify?.theme?.schema_name||"Refresh"===window.Shopify?.theme?.name||"Refresh"===window.Shopify?.theme?.schema_name||"Taste"===window.Shopify?.theme?.name||"Taste"===window.Shopify?.theme?.schema_name||"Craft"===window.Shopify?.theme?.name||"Craft"===window.Shopify?.theme?.schema_name||"Sense"===window.Shopify?.theme?.name||"Sense"===window.Shopify?.theme?.schema_name||"Ride"===window.Shopify?.theme?.name||"Ride"===window.Shopify?.theme?.schema_name||"Studio"===window.Shopify?.theme?.name||"Studio"===window.Shopify?.theme?.schema_name||"Crave"===window.Shopify?.theme?.name||"Crave"===window.Shopify?.theme?.schema_name||"Publisher"===window.Shopify?.theme?.name||"Publisher"===window.Shopify?.theme?.schema_name||"Trade"===window.Shopify?.theme?.name||"Trade"===window.Shopify?.theme?.schema_name||"Colorblock"===window.Shopify?.theme?.name||"Colorblock"===window.Shopify?.theme?.schema_name||"Casablanca"===window.Shopify.theme.schema_name){const n=document.querySelector("cart-drawer"),o=document.querySelector("cart-notification"),r=(e,t=".shopify-section")=>(new DOMParser).parseFromString(e,"text/html")?.querySelector(t)?.innerHTML,s=(t,i)=>{t.cartItemKey=i.key,t.getSectionsToRender().forEach((t=>{const n=r(i.sections[t.id],"cart-notification-product"===t.id?`[id^="cart-notification-product-${e.variantId}"]`:t.selector);document.getElementById(t.id)&&n&&(document.getElementById(t.id).innerHTML=n)})),t.header&&t.header.reveal(),t.open()},c=(e,t)=>{e.querySelector(".drawer__inner").classList.contains("is-empty")&&e.querySelector(".drawer__inner").classList.remove("is-empty"),e.productId=t.id,e.getSectionsToRender().forEach((e=>{const i=r(t.sections[e.id],e.selector),n=e.selector?document.querySelector(e.selector):document.getElementById(e.id);n&&i&&(n.innerHTML=i)})),setTimeout((()=>{e.classList.remove("is-empty"),document.querySelector("cart-drawer-items").classList.remove("is-empty"),e.querySelector("#CartDrawer-Overlay").addEventListener("click",e.close.bind(e)),e.open()}))};if(window.location.pathname===t&&!i){const t=document.querySelector("cart-items");t?.classList?.toggle("is-empty",0===e.size);const i=document.querySelector("cart-drawer"),n=document.getElementById("main-cart-footer");return n&&n.classList.toggle("is-empty",0===e.size),i&&i.classList.toggle("is-empty",0===e.size),void t.getSectionsToRender().forEach((i=>{const n=document.getElementById(i.id).querySelector(i.selector)||document.getElementById(i.id),o=r(e.sections[i.section],i.selector);n&&o&&(n.innerHTML=r(e.sections[i.section],i.selector)),"main-cart-items"===i.id&&t?.classList?.toggle(`section-${i.section}-padding`,0!==e.size)}))}if(n)return void(i?fetch("/cart?view=item").then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html"),i=t.querySelector("#CartDrawer").innerHTML,n=t.querySelector("#cart-icon-bubble .cart-count-bubble span[aria-hidden]"),o=n?.textContent??"0";if(document.querySelector("#CartDrawer").innerHTML=i,document.querySelector("cart-drawer").classList.remove("is-empty"),document.querySelector("cart-drawer-items").classList.remove("is-empty"),0===document.querySelectorAll("#cart-icon-bubble .cart-count-bubble").length){const e=document.createElement("div");e.className="cart-count-bubble",e.innerHTML=`\n                <span aria-hidden="true">${o}</span>\n                <span class="visually-hidden">${o} items</span>\n              `,document.querySelector("#cart-icon-bubble").append(e)}else document.querySelectorAll('.cart-count-bubble span[aria-hidden="true"]').forEach((e=>{e.innerHTML=o}));document.querySelector("#cart-icon-bubble").click(),document.querySelector("#CartDrawer-Overlay").addEventListener("click",(()=>{document.querySelector("cart-drawer").classList.remove("active"),document.querySelector("body").classList.remove("overflow-hidden")}))})):c(n,{sections:e.sections,id:e.variantId}));if(o)return void(i?fetch("/cart?view=item").then((e=>e.text())).then((t=>{const i=(new DOMParser).parseFromString(t,"text/html").querySelector("#cart-icon-bubble .cart-count-bubble span[aria-hidden]"),n=i?.textContent??"0",o=document.querySelector("#cart-notification #cart-notification-product"),r=document.querySelector("#cart-notification #cart-notification-button"),s=`<div class="cart-count-bubble"><span aria-hidden="true">${n}</span></div>`;o.innerHTML=`\n              <div\n                class="cart-notification-product__image global-media-settings" \n              >\n                <img \n                  src="${e.item?.featured_image?.url??"https://cdn.shopify.com/s/files/1/0677/7900/2622/files/Default_image.png?v=1713954435"}" \n                  alt="${e.item?.featured_image?.alt??e.item?.title??"Cart notification image"}" \n                  width="70" \n                  height="70" \n                  loading="lazy"\n                />\n              </div>\n              <div class="cart-notification-product__info">\n                <h3 class="cart-notification-product__name h4">${e.item?.title??"Product title"}</h3>\n                ${e.item?.product_has_only_default_variant?"":`\n                  <dl>\n                    ${e.item?.options_with_values?.map((e=>`\n                        <div class="product-option">\n                          <dt>${e.name}:</dt>\n                          <dd>${e.value}</dd>\n                        </div>\n                      `)).join(" ")}\n                  </dl>\n                `}\n              </div>\n            `,document.querySelectorAll(".cart-count-bubble").length>0?document.querySelector(".cart-count-bubble span").innerHTML=n:document.querySelector("#cart-icon-bubble").insertAdjacentHTML("beforeend",s),r.innerText=`View my cart (${n})`,document.querySelector("cart-notification")?.open()})):s(o,{sections:e.sections,id:e.variantId}));window.location.href=t}else window.location.href=t}))}();
